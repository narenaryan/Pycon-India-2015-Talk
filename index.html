<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Python and Riak - A perfect couple for building</title>

		<meta name="description" content="Riak DB is the master of distributed databases">
		<meta name="author" content="Naren Aryan">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match(    /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Python and Riak DB</h1>
					<h3> A perfect couple for huge scale distributed computing</h3>
					<p>
						<small>Talk by &nbsp;&nbsp;<a href="http://www.impythonist.in">Naren Arya</a> @ Knowlarity Communcations 
						</small><br>
						twitter <a href="http://twitter.com/Narenarya3">@Narenarya3</a><br>
						Github <a href="http://github.com/Narenarya3">@narenaryan</a>
					</p>
				</section>

				<section>
					<h2>What Riak can do?</h2>
					<p>
						    <q>Riak is a database that helps any business by supporting these 4 features
        					<center>
        					<div style="color:#4fffff">
        					<ol> 
        					<li><strong>100% uptime</strong></li>
        					<li> <strong>Infinite scale</strong></li>
        					<li> <strong>Fault recovery</strong></li>
        					<li> <strong>Low latency</strong></li>
        					</div>
        					
					</p>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Why care fault tolerance?</h2>
						<p> Companies rely on data to power their day-today
operations. Even minutes of application
							downtime can mean lost sales, a poor user
							experience, and a bruised brand.This can add up
to millions in lost revenue</p>
						<br>
					</section>
					<section data-background="img/business_loss.gif">
						<h2 style="color:red">Never lose a customer</h2>
					</section>

					<section>
						<h2>What exactly Riak is?</h2>
						<p> Different than traditional relational databases and other “NoSQL” (non-relational) databases, Riak offers benefits of enormous availability, replication and monitoring – all in a highly distributed deployment</p>
						<br>
						
					</section>
				</section>

				<section data-background ="img/riak_features.png" data-background-size="1200px">
				</section>

				<section>
					<h2>Distributed databases</h2>
					<p>
						<strong>Data distrbution</strong> is achieved through two things. 
					</p>
					<ul>
					<li>Replication</li>
					<li>Partition</li>
					</ul>
					
				</section>

				<section data-background ='img/replication.png' data-background-size="1200px">
				<p style="position: relative;right:300px;bottom:120px;color:red">Replication</p>
				</section>


				<section data-background ='img/partition.png' data-background-size="1200px">
				<p style="position: relative;right:300px;bottom:120px;color:red">Partition</p>
				</section>
<!--
				<section data-markdown>
					<script type="text/template">
						CAP Theorom

						```
						<section data-markdown>
						  ## Markdown support

						  Write content using inline or external Markdown.
						  Instructions and more info available in the [readme](https://github.com/hakimel/reveal.js#markdown).
						</section>
						```
					</script>
			</section>
-->
				
				<section>
					<h2>CAP Theorom</h2>
					<p>
						<strong>Brewer's CAP Theorom</strong> states that CAP loosely states that you can have a C (consistent),
A (available), or P (partition-tolerant) system, but you can only choose any 2 of them at a particular time.
					</p>
					<ul>
					<li>Consistency + Partition Tolerance</li>
					<center>or</center>
					<li>Availability + Partition Tolerance</li>
					</ul>
					
				</section>

				<section>
				<h2>Riak's tunable CAP parameters</h2>
				Riak’s solution is based on Amazon Dynamo’s novel approach of a tunable AP system. Riak has a two knob theory which sets both levels of availlability and consistency.<br /><br /> 
			
				<ul>
				<li>Level of Availability</li>
				<li>Level of Consistency</li>
				</ul>
				
				</section>
				<section>
					<h2>Riak N-R-W strategy</h2>
					<ol>
					<li> <strong>N</strong> - No of nodes to replicate data</li>
					<br/><li> <strong>R</strong> - No of nodes to be read to confirm a successful read</li>
					<br/><li> <strong>W</strong> - No of nodes to write to confirm a successful write</li>
				</section>


				<section data-background-size="1200px" data-background="img/nrw.png">
				<h2 style="position: relative;right:400px;bottom:120px;color:red">N-R-W</h2>
				
				</section>

				<section>
				<section data-transition="slide" data-background="#b5533c" data-background-transition="zoom">
					<h2>Is Riak ACID?</h2>
					<ul><li>Atomic</li> 
					<li>Consistent</li> 
					<li>Isolated</li> 
					<li>Durable</li>
					</ul>
					</p>

					<!--
					<pre><code style="word-wrap: break-word;">&lt;section data-background-transition="zoom"&gt;</code></pre>
				-->
				</section>
				<section data-transition="slide" data-background="#b5566c" data-background-transition="zoom">
				<h2>No, Riak is BASE</h2>
				<ul><li>Basically Available</li> 
					<li>Soft-state</li> 
					<li>Eventually consistent</li> 
					<li>Durable</li>
					</ul>
				<img src="img/acid_base.gif" height="400"/><br />
				</section>
				</section>

				<section data-background="img/python.png">
					
				<h2 style="position: relative;right:150px;bottom:120px;color:#800000">
					Why Python?
				</h2>
				<h3 style="color:black;position:relative;left:100px;"><br /> 
				Fun |
				Power |
				Love |
				Zillion reasons
				</h3>
				</section>
				<section>
				<section>
					<h2>I love Python</h2>
					<strong>because of it's</strong><br /></br>
					<ol>
					<li>Expressive power</li>
					<li>Simplicity</li>
					<li>Multi domain expertise</li>
					<li>Mammoth library base</li>
					</ol>
					<p>more than that....</p> 
				</section>
				<section data-background="/img/matrix.gif" data-background-size="1300px">

				</section>
				</section>
				<section>
					<h2>Does Riak has a Python client</h2>
					<p>Yes, Riak has six official clients for Major programming languages.</p>
					Python is in first three clients Riak 1.0 supported.
				</section>

				<section>
				    <h2> Riak for impatient</h2>
					<pre><code data-trim contenteditable>
import riak

client = riak.RiakClient()

bucket = client.bucket('developers')


person = bucket.new('python_developer_1', data={
    'name': 'Naren',
    'age': 22,
    'company': 'Mr. Startup!',
})

person.store()
					</code></pre>
				</section>

				<section>
				<section>
					<h2> 4 simple methods to start </h2>
					<ol>
					<li>RiakClient</li>
					<li>bucket</li>
					<li>new</li>
					<li>store</li>
					</ol>
				</section>
				<section>
				<p><strong> RiakClient </strong> - creates a client connnection to Database</p>
				<p><strong> bucket</strong> - Creates a bucket if not exists, else uses it</p>
				<p><strong> new </strong> - creates a new key-value data pair</p>
				<p><strong> RiakClient</strong> - Stores key-value pair in database</p>
				</section>
				</section>

				<section>
				<section>
				<h2> Two more methods to complete simplicity</h2>
				<p><strong>get</strong> - Fetches a bucket data row using key</p>
				<p><strong>get_data</strong> - Fetches value associated for that key</p>
				</section>
				<section>

				<h2> See how code works</h2>
					<pre><code data-trim contenteditable>
import riak

client = riak.RiakClient()

bucket = client.bucket('developers')

naren = user_bucket.get('python_developer_1')

naren_dict = naren.get_data()

					</code></pre>
				</section>
</section>

<section>
	<h2>Riak client variations</h2>
<pre><code data-trim contenteditable>
RiakClient()

RiakClient(protocol='http', host='127.0.0.1', http_port=8098)

RiakClient(nodes=[{'host':'127.0.0.1','http_port':8098}])
</code></pre>
<p><strong>Nodes</strong> are the remote systems or virtual containers running Riak Servers . When your data size is increasing grow your data horizontally by allocating more nodes to cluster</p>
</section>
                <section>
				<section>
					<h2>Riak Search</h2>
                    <p>Riak Search 2.0 is an integration of Solr (for indexing and querying) and Riak (for storage and distribution).It has search capability on distributed riak servers</p>

                    <pre><code data-trim contenteditable>
results = client.fulltext_search('famous', 'name_s:Lion*')
print results
print results['docs']
</code></pre>
                    
                    <img src="img/solr.png" height="300"/>
				</section>
                <section data-background="img/map_reduce.png" data-background-size="800px">
                <h2  style="position: relative;right:50px;bottom:250px;color:indianred">Riak Map Reduce architecture</h2>
                    <p style="position: relative;right:50px;top:300px;">Riak has a very good support for map-reducing of big data</p>
                    
                </section>
            </section>

                    
                <section>
					<h2>What we are gaining</h2>
					<p> The advantages of using Riak and Python are:</p>
                    <ul>
                    <li>Fast and easy setup</li>
                    <li>Developer friendly stack</li>
                    <li>Less operational cost</li>
                    <li>Horizontal scaling on demand</li>
                    <li>Rock solid consistency</li>
                    <li>Now Flask and Django projects can scale on huge data</li>
                    </ul>
				</section>
                    
                <section>
					<h2>Where you should not use Riak?</h2>
                    <p>You should not use Riak</p>
                    <ul>
                        <li>If you have average sized data needs.</li>
                        <li>If you are nostalgic about SQL and queries</li>
                        <li><h3>If you don't have any problem now</h3></li>
                    </ul>
				</section>
                    
                <section>
                    <h2>Where you should use Riak?</h2>
				    <img src="img/critical_data.png" height="500px" />
				</section>
                    
				<section>
					<h2>Much more</h2>
					<ul>
						<li><a href = "http://littleriakbook.com/"> Riak Book</a></li>
						<li><a href = "http://basho.com/products/riak-kv/"> Riak DB</a></li>
						<li><a href="http://docs.basho.com/riak/latest/dev/using/libraries/">Client libraries</a></li>
						<li><a href="https://impythonist.wordpress.com/tag/python-and-riak/">Python and RiakDB</a></li>
					</ul>
				</section>

				<section style="text-align: left;">
					<h1>THE END</h1>
					<p>
						- <a href="https://twitter.com/Narenarya3">Thank you all</a> <br>
						- <a href="https://github.com/narenaryan">Source code &amp; documentation</a><br />
                        		- <a href="http://impythonist.in">Website</a>
					</p>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
